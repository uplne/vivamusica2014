define("modules/toggleMenu",["jquery"],function(e){var t=function(){var t=null;return{el:{$mainHolder:e(".main"),$navlink:e('[data-module="tooglemenu"]'),$sidebar:e(".main__menu")},init:function(){t=this,t.bindEvents()},bindEvents:function(){t.el.$navlink.on("click",function(n){n.preventDefault(),e(this).toggleClass("is-active"),t.el.$mainHolder.toggleClass("is-active"),t.el.$sidebar.toggleClass("is-active")})}}};return t}),define("utils/events",["jquery"],function(e){var t=function(){return{bindEvents:function(){var e=this,t=0;for(var n in e.events)if(e.events.hasOwnProperty(n)){var r=n.split(" "),i=r[0],s=r[1];e.els[i]!==!1&&typeof e.els[i]!="undefined"&&(e.els[i].off(s,e[e.events[n]]),e.els[i].on(s,e[e.events[n]]),t++)}return t}}};return new t}),define("utils/utils",["jquery"],function(e){var t=function(){return{validateEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}}};return new t}),define("modules/newsletter",["jquery","utils/events","utils/utils"],function(e,t,n){var r=function(){var r=null,i="";return{els:{$mainHolder:e('[data-module="newsletter"]'),$input:e('[data-role="check"]'),$submit:e('[data-role="send"]'),$notify:e('[data-module="notify"]')},init:function(){r=this,i=r.els.$input.val(),t.bindEvents.call(this)},events:{"$input focus":"inputFocus","$input blur":"inputBlur","$submit click":"submit"},inputFocus:function(){var t=e(this).val();t===i&&e(this).val("")},inputBlur:function(){var t=e(this).val();t===""&&e(this).val(i)},submit:function(e){event.preventDefault();var t=r.els.$input.val();n.validateEmail(t)&&r.sendData(t)},sendData:function(t){e.ajax({type:"POST",data:JSON.stringify({email:t}),contentType:"application/json",url:"/newsletter",success:function(e){r.notify()}})},notify:function(){var t=e(window),n=t.width()/2,s=t.height()/2,o=r.els.$notify.width()/2;r.els.$input.val(i),r.els.$notify.css({top:s+"px",left:n-o+"px"}).fadeIn().delay(1500).fadeOut()}}};return r}),define("modules/carousel",["jquery"],function(e){var t=function(){var t=null,n=0,r=e(".js-carousel");return{itemWidth:0,carouselLength:0,init:function(){t=this,t.setActive(),t.startRotation()},setActive:function(){r.find("a:eq(0)").addClass("is-active")},removeActive:function(){r.find(".is-active").removeClass("is-active")},getActive:function(){return r.find(".is-active")},getNext:function(){return r.find("a:eq(1)")},stackToEnd:function(e){r.append(e),this.setActive()},startRotation:function(){t=this,n=window.setInterval(function(){t.changeImage(t)},5e3)},changeImage:function(e){e=e||this;var t=e.getActive(),n=e.getNext();n.addClass("is-changing"),n.fadeIn(1200,function(){e.removeActive(),n.removeClass("is-changing"),n.removeAttr("style"),e.stackToEnd(t)})}}};return t}),define("modules/campaign",["jquery","utils/events","utils/utils"],function(e,t,n){var r=function(){var r=null,i={},s={};return i.els={$popup:e(".js-campaignpopup"),$btnClose:e(".js-campaignbutton-close "),$btnOpen:e(".js-campaignbutton"),$btnSubmit:e(".js-campaignbutton-send"),$form:e(".js-campaign-form"),$error:e(".js-campaign-error")},i.events={"$btnOpen click":"openHandler","$btnClose click":"closeHandler"},i.init=function(){r=this,t.bindEvents.call(this),i.els.$form.submit(function(e){e.preventDefault(),i.submitForm()})},i.setPopupPosition=function(){var e=i.getPopupPosition();i.els.$popup.css({left:e.x+"px",top:e.y+"px"})},i.getPopupPosition=function(){var t={x:0,y:0},n=i.els.$popup.parent(),r=e(window),s=n.width()/2,o=r.height()/2,u=i.els.$popup.width()/2,a=i.els.$popup.height()/2;return t.x=s-u,t.y=o-a+document.body.scrollTop,t},i.openHandler=function(e){e.preventDefault(),i.fbLogin()},i.closeHandler=function(e){e.preventDefault(),i.els.$popup.toggleClass("is-active")},i.fbLogin=function(){FB.login(function(e){e.authResponse&&i.getUserInformation()},{scope:"public_profile, email, user_friends"})},i.getUserInformation=function(){FB.api("/me",function(e){e&&!e.error&&(s.name=e.name,s.email=e.email,console.log(s),i.sendFbRequest())})},i.sendFbRequest=function(){FB.ui({method:"apprequests",message:"Slovenská sporiteľňa - Pozvánka na festival Viva Musica video"},function(e){typeof e.to=="object"&&e.to.length>0})},i.openPopup=function(){i.setPopupPosition(),i.els.$popup.toggleClass("is-active"),typeof s.name!="undefined"&&typeof s.email!="undefined"&&(e('[name="name"]').val(s.name),e('[name="email"]').val(s.email))},i.submitForm=function(){var t=e('[name="campemail"]').val(),r=e('[name="name"]').val(),s=e('[name="phone"]').val(),o=e('[name="tickets"]').is(":checked")?1:0,u=e('[name="canvas"]').is(":checked")?1:0,a=e('[name="terms"]').is(":checked")?1:0,f=e('[name="marketing"]').is(":checked")?1:0,l=/^[0-9]/g;r===""||!n.validateEmail(t)||!l.test(s)||!a?i.els.$error.removeClass("is-hidden"):console.log("preslo")},i};return r}),require.config({baseUrl:"/static/js",paths:{jquery:"//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min"}}),require(["jquery","modules/toggleMenu","modules/newsletter","modules/carousel","modules/campaign"],function(e,t,n,r,i){var s=new t;s.init();var o=new n;o.init();var u=new r;u.init()}),define("main",function(){});