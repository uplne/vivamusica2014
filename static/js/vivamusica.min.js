/**
 - 0.0.2
http://www.vivamusica.sk
Copyright (c) 2014 Steve Vadocz
License: Enjoy. Live long and prosper.
*/
"use strict";require.config({baseUrl:"/static/js",paths:{jquery:"lib/jquery/jquery"}}),require(["jquery","modules/toggleMenu","modules/gallery","modules/newsletter","modules/carousel"],function(a,b,c,d,e){var f=new b;f.init();var g=new c;g.init();var h=new d;h.init();var i=new e;i.init()}),define(["jquery"],function(a){var b=function(){var b=null,c=0,d=a(".js-carousel"),e=a(".carousel__wrap");return{itemWidth:0,carouselLength:0,init:function(){b=this,b.setActive(),b.startRotation()},setActive:function(){d.find("a:eq(0)").addClass("is-active")},removeActive:function(){d.find(".is-active").removeClass("is-active")},getActive:function(){return d.find(".is-active")},getNext:function(){return d.find("a:eq(1)")},stackToEnd:function(a){e.append(a),b.setActive()},startRotation:function(){c=window.setInterval(b.changeImage,5e3)},changeImage:function(){var a=b.getActive(),c=b.getNext();c.addClass("is-changing"),c.fadeIn(1200,function(){b.removeActive(),c.removeClass("is-changing"),c.removeAttr("style"),b.stackToEnd(a)})}}};return b}),define(["jquery"],function(a){var b=function(){var b=null;return{el:{holder:a('[data-module="gallery"]'),imgs:null},init:function(){b=this,b.bindEvents()},bindEvents:function(){b.el=a('[data-role="galleryitem"'),b.el.on("click",b.clickHandler)},clickHandler:function(a){a.preventDefault(),b.openImage(a.target.srcr)},openImage:function(a){console.log(a)}}};return b}),define(["jquery","utils/events","utils/utils"],function(a,b,c){var d=function(){var d=null,e="";return{els:{$mainHolder:a('[data-module="newsletter"]'),$input:a('[data-role="check"]'),$submit:a('[data-role="send"]'),$notify:a('[data-module="notify"]')},init:function(){d=this,e=d.els.$input.val(),b.bindEvents.call(this)},events:{"$input focus":"inputFocus","$input blur":"inputBlur","$submit click":"submit"},inputFocus:function(){var b=a(this).val();b===e&&a(this).val("")},inputBlur:function(){var b=a(this).val();""===b&&a(this).val(e)},submit:function(){event.preventDefault();var a=d.els.$input.val();c.validateEmail(a)&&d.sendData(a)},sendData:function(b){a.ajax({type:"POST",data:JSON.stringify({email:b}),contentType:"application/json",url:"/newsletter",success:function(){d.notify()}})},notify:function(){var b=a(window),c=b.width()/2,f=b.height()/2,g=d.els.$notify.width()/2;d.els.$input.val(e),d.els.$notify.css({top:f+"px",left:c-g+"px"}).fadeIn().delay(1500).fadeOut()}}};return d}),define(["jquery","utils/events"],function(a,b){var c=function(){var c=null,d={};return d.els={$holder:a("[data-popup]"),$btnClose:a('[data-action="close"]'),$btnOpen:a('[data-action="open"]')},d.events={"$btnOpen click":"openCloseHandler","$btnClose click":"openCloseHandler"},d.init=function(){c=this,d.showPopup(),b.bindEvents.call(this)},d.showPopup=function(){var a=d.getPopupPosition();d.els.$holder.css({left:a.x+"px",top:a.y+"px"}),setTimeout(function(){d.els.$holder.removeClass("is-hidden")},2e3)},d.getPopupPosition=function(){var b={x:0,y:0},c=a(window),e=c.width()/2,f=c.height()/2,g=d.els.$holder.width()/2,h=d.els.$holder.height()/2;return b.x=e-g,b.y=f-h,b},d.openCloseHandler=function(a){a.preventDefault(),d.els.$holder.toggleClass("is-hidden")},d};return c}),define(["jquery"],function(a){var b=function(){var b=null;return{el:{$mainHolder:a(".main"),$navlink:a('[data-module="tooglemenu"]'),$sidebar:a(".main__menu")},init:function(){b=this,b.bindEvents()},bindEvents:function(){b.el.$navlink.on("click",function(c){c.preventDefault(),a(this).toggleClass("is-active"),b.el.$mainHolder.toggleClass("is-active"),b.el.$sidebar.toggleClass("is-active")})}}};return b});